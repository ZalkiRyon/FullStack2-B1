export const usuarios = [
  // ADMINISTRADORES
  {
    id: 1,
    email: "admin@duoc.cl",
    password: "admin123",
    role: "admin",
    nombre: "Super",
    apellido: "Administrador",
    run: "12.345.678-9",
    telefono: "912345678",
    region: "region-metropolitana",
    comuna: "santiago",
    direccion: "Av. Providencia 1234, Oficina 501",
    comentario: "Usuario administrador principal del sistema",
    fechaRegistro: "2024-01-15T08:00:00.000Z",
  },
  {
    id: 2,
    email: "maria.gonzalez@duoc.cl",
    password: "admin456",
    role: "admin",
    nombre: "María José",
    apellido: "González Pérez",
    run: "15.678.234-5",
    telefono: "987654321",
    region: "region-valparaiso",
    comuna: "valparaiso",
    direccion: "Calle Esmeralda 789, Casa 12",
    comentario: "Administradora de sistemas y base de datos",
    fechaRegistro: "2024-02-10T09:30:00.000Z",
  },
  {
    id: 3,
    email: "carlos.torres@profesor.duoc.cl",
    password: "admin789",
    role: "admin",
    nombre: "Carlos Eduardo",
    apellido: "Torres Silva",
    run: "18.234.567-8",
    telefono: "956789123",
    region: "region-biobio",
    comuna: "concepcion",
    direccion: "Av. O'Higgins 2456, Depto 34B",
    comentario: "Administrador de contenido y gestión académica",
    fechaRegistro: "2024-01-25T14:15:00.000Z",
  },

  // CLIENTES
  {
    id: 4,
    email: "ana.martinez@gmail.com",
    password: "cliente123",
    role: "cliente",
    nombre: "Ana María",
    apellido: "Martínez López",
    run: "19.876.543-2",
    telefono: "945678912",
    region: "region-metropolitana",
    comuna: "las-condes",
    direccion: "Av. Apoquindo 4567, Casa 78",
    comentario: "Cliente VIP, compra productos orgánicos semanalmente",
    fechaRegistro: "2024-03-05T10:20:00.000Z",
  },
  {
    id: 5,
    email: "pedro.ramirez@gmail.com",
    password: "cliente456",
    role: "cliente",
    nombre: "Pedro Antonio",
    apellido: "Ramírez Castro",
    run: "16.789.123-4",
    telefono: "934567891",
    region: "region-ohiggins",
    comuna: "rancagua",
    direccion: "Calle San Martín 1234, Villa El Sauce",
    comentario: "Cliente frecuente, prefiere frutas frescas locales",
    fechaRegistro: "2024-02-28T16:45:00.000Z",
  },
  {
    id: 6,
    email: "lucia.fernandez@duoc.cl",
    password: "cliente789",
    role: "cliente",
    nombre: "Lucía Elena",
    apellido: "Fernández Morales",
    run: "21.456.789-1",
    telefono: "923456789",
    region: "region-araucania",
    comuna: "temuco",
    direccion: "Pasaje Los Aromos 567, Población Nueva",
    comentario: "Estudiante DUOC, compra productos económicos y saludables",
    fechaRegistro: "2024-03-12T11:30:00.000Z",
  },
  {
    id: 10,
    email: "juan.perez@gmail.com",
    password: "cliente101",
    role: "cliente",
    nombre: "Juan Carlos",
    apellido: "Pérez Soto",
    run: "13.234.567-8",
    telefono: "956789012",
    region: "region-metropolitana",
    comuna: "providencia",
    direccion: "Av. Providencia 2345, Depto 12",
    comentario: "Cliente frecuente de productos orgánicos",
    fechaRegistro: "2024-04-01T10:00:00.000Z",
  },
  {
    id: 11,
    email: "carla.lopez@gmail.com",
    password: "cliente102",
    role: "cliente",
    nombre: "Carla Andrea",
    apellido: "López Muñoz",
    run: "17.890.123-4",
    telefono: "945678901",
    region: "region-valparaiso",
    comuna: "vina-del-mar",
    direccion: "Calle Alvares 567, Casa 23",
    comentario: "Compra frutas y verduras semanalmente",
    fechaRegistro: "2024-04-05T14:30:00.000Z",
  },
  {
    id: 12,
    email: "roberto.sanchez@gmail.com",
    password: "cliente103",
    role: "cliente",
    nombre: "Roberto Andrés",
    apellido: "Sánchez Vera",
    run: "14.567.234-9",
    telefono: "912345678",
    region: "region-biobio",
    comuna: "talcahuano",
    direccion: "Pasaje Los Pinos 890, Villa Mar",
    comentario: "Cliente VIP, pedidos grandes mensuales",
    fechaRegistro: "2024-04-10T09:15:00.000Z",
  },
  {
    id: 13,
    email: "maria.silva@gmail.com",
    password: "cliente104",
    role: "cliente",
    nombre: "María Cristina",
    apellido: "Silva Rojas",
    run: "16.345.678-2",
    telefono: "967890123",
    region: "region-maule",
    comuna: "curico",
    direccion: "Av. Manso de Velasco 1234",
    comentario: "Prefiere productos lácteos y orgánicos",
    fechaRegistro: "2024-04-15T16:20:00.000Z",
  },
  {
    id: 14,
    email: "diego.morales@gmail.com",
    password: "cliente105",
    role: "cliente",
    nombre: "Diego Sebastián",
    apellido: "Morales Castro",
    run: "19.123.456-7",
    telefono: "923456780",
    region: "region-metropolitana",
    comuna: "la-florida",
    direccion: "Calle Walker Martinez 3456, Block A",
    comentario: "Compra productos para eventos",
    fechaRegistro: "2024-04-20T11:45:00.000Z",
  },
  {
    id: 15,
    email: "valentina.rojas@gmail.com",
    password: "cliente106",
    role: "cliente",
    nombre: "Valentina Isabel",
    apellido: "Rojas Hernández",
    run: "20.234.567-1",
    telefono: "934567892",
    region: "region-ohiggins",
    comuna: "san-fernando",
    direccion: "Av. Libertador 789, Casa 45",
    comentario: "Cliente regular, compra frutas frescas",
    fechaRegistro: "2024-04-25T13:10:00.000Z",
  },
  {
    id: 16,
    email: "francisco.gomez@gmail.com",
    password: "cliente107",
    role: "cliente",
    nombre: "Francisco Javier",
    apellido: "Gómez Torres",
    run: "15.890.234-5",
    telefono: "978901234",
    region: "region-araucania",
    comuna: "villarrica",
    direccion: "Camino Villarrica 234, Km 5",
    comentario: "Prefiere productos orgánicos certificados",
    fechaRegistro: "2024-05-01T08:30:00.000Z",
  },
  {
    id: 17,
    email: "camila.vargas@gmail.com",
    password: "cliente108",
    role: "cliente",
    nombre: "Camila Fernanda",
    apellido: "Vargas Pérez",
    run: "18.456.789-3",
    telefono: "956781235",
    region: "region-metropolitana",
    comuna: "nunoa",
    direccion: "Av. Irarrázaval 5678, Depto 301",
    comentario: "Compra productos para su familia",
    fechaRegistro: "2024-05-05T15:00:00.000Z",
  },
  {
    id: 18,
    email: "andres.munoz@gmail.com",
    password: "cliente109",
    role: "cliente",
    nombre: "Andrés Felipe",
    apellido: "Muñoz Bravo",
    run: "12.789.345-6",
    telefono: "989012345",
    region: "region-valparaiso",
    comuna: "quilpue",
    direccion: "Calle Freire 123, Villa Esperanza",
    comentario: "Cliente desde el inicio, muy satisfecho",
    fechaRegistro: "2024-05-10T10:20:00.000Z",
  },
  {
    id: 19,
    email: "daniela.castro@gmail.com",
    password: "cliente110",
    role: "cliente",
    nombre: "Daniela Patricia",
    apellido: "Castro Fuentes",
    run: "21.890.456-8",
    telefono: "945678903",
    region: "region-biobio",
    comuna: "los-angeles",
    direccion: "Av. Ricardo Vicuña 456",
    comentario: "Compra productos semanalmente",
    fechaRegistro: "2024-05-15T12:40:00.000Z",
  },

  // VENDEDORES
  {
    id: 7,
    email: "rodrigo.silva@duoc.cl",
    password: "vendedor123",
    role: "vendedor",
    nombre: "Rodrigo Alejandro",
    apellido: "Silva Mendoza",
    run: "17.345.678-9",
    telefono: "967891234",
    region: "region-metropolitana",
    comuna: "maipu",
    direccion: "Av. Pajaritos 3456, Block 12, Depto 204",
    comentario: "Vendedor especializado en productos orgánicos y frutas",
    fechaRegistro: "2024-02-15T08:45:00.000Z",
  },
  {
    id: 8,
    email: "sofia.herrera@gmail.com",
    password: "vendedor456",
    role: "vendedor",
    nombre: "Sofía Alejandra",
    apellido: "Herrera Vásquez",
    run: "20.123.456-7",
    telefono: "956781234",
    region: "region-maule",
    comuna: "talca",
    direccion: "Calle 1 Norte 2345, Villa Los Jardines",
    comentario:
      "Vendedora con experiencia en atención al cliente y productos lácteos",
    fechaRegistro: "2024-01-30T13:20:00.000Z",
  },
  {
    id: 9,
    email: "miguel.rojas@profesor.duoc.cl",
    password: "vendedor789",
    role: "vendedor",
    nombre: "Miguel Ángel",
    apellido: "Rojas Contreras",
    run: "14.567.890-1",
    telefono: "912347856",
    region: "region-valparaiso",
    comuna: "vina-del-mar",
    direccion: "Av. Libertad 1789, Casa 45",
    comentario: "Vendedor tiempo parcial, especialista en verduras orgánicas",
    fechaRegistro: "2024-02-05T15:10:00.000Z",
  },
];

// Funciones para gestión de usuarios en localStorage
export const getUsuariosFromStorage = () => {
  const storedUsers = localStorage.getItem("ListaUsuarios");
  if (storedUsers) {
    return JSON.parse(storedUsers);
  }
  return [];
};

export const saveUsuarioToStorage = (nuevoUsuario) => {
  try {
    // Obtener usuarios actuales
    const usuarios = getUsuariosFromStorage();
    
    // Generar nuevo ID (máximo ID + 1)
    const nuevoId = usuarios.length > 0 
      ? Math.max(...usuarios.map(u => u.id)) + 1 
      : 1;
    
    // Crear objeto de usuario completo
    const usuarioCompleto = {
      id: nuevoId,
      email: nuevoUsuario.correo,
      password: nuevoUsuario.password,
      role: nuevoUsuario.tipoUsuario || nuevoUsuario.role || "cliente",
      nombre: nuevoUsuario.nombre,
      apellido: nuevoUsuario.apellido,
      run: nuevoUsuario.run,
      telefono: nuevoUsuario.telefono || "",
      region: nuevoUsuario.region,
      comuna: nuevoUsuario.comuna,
      direccion: nuevoUsuario.direccion,
      comentario: nuevoUsuario.comentario || "",
      fechaRegistro: new Date().toISOString(),
    };
    
    // Agregar nuevo usuario
    usuarios.push(usuarioCompleto);
    
    // Guardar en localStorage
    localStorage.setItem("ListaUsuarios", JSON.stringify(usuarios));
    
    return { success: true, usuario: usuarioCompleto };
  } catch (error) {
    console.error("Error al guardar usuario:", error);
    return { success: false, error: error.message };
  }
};

export const updateUsuarioInStorage = (id, usuarioActualizado) => {
  try {
    const usuarios = getUsuariosFromStorage();
    const index = usuarios.findIndex(u => u.id === parseInt(id));
    
    if (index === -1) {
      return { success: false, error: "Usuario no encontrado" };
    }
    
    usuarios[index] = { ...usuarios[index], ...usuarioActualizado };
    localStorage.setItem("ListaUsuarios", JSON.stringify(usuarios));
    
    return { success: true, usuario: usuarios[index] };
  } catch (error) {
    console.error("Error al actualizar usuario:", error);
    return { success: false, error: error.message };
  }
};

export const deleteUsuarioFromStorage = (id) => {
  try {
    const usuarios = getUsuariosFromStorage();
    const filteredUsuarios = usuarios.filter(u => u.id !== parseInt(id));
    
    if (filteredUsuarios.length === usuarios.length) {
      return { success: false, error: "Usuario no encontrado" };
    }
    
    localStorage.setItem("ListaUsuarios", JSON.stringify(filteredUsuarios));
    
    return { success: true };
  } catch (error) {
    console.error("Error al eliminar usuario:", error);
    return { success: false, error: error.message };
  }
};
